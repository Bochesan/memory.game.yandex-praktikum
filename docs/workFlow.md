# Порядок работы с проектом <!-- omit in toc -->

- [1. GitHub](#1-github)
- [2. Документация](#2-документация)
- [3. Запуск](#3-запуск)
- [4. Зависимости](#4-зависимости)
- [5. Линтинг](#4-линтинг)
- [6. Форматирование prettier](#4-форматирование-prettier)

## 1. GitHub

- Форкаем проект
- В своем форке создаем от ветки dev новую ветку, делаем туда коммиты
- Когда все готово создаем PR на ветку dev
- Проходим ревью
- Вливаем в ветку dev (через squash & merge)
- Оповещаем всех остальных (чтобы они подтянули изменения из dev и сразу порешали merge conflict)

Шаблон названия веток: feature/PSS-{номер задачи}
Например: PSS-45

## 2. Документация

1. Создаем файл для описания чего-либо в папке `docs`
2. Добавляем ссылку на созданный файл в `docs/README.md`

   ```markdown
   - [Название раздела](ИмяФайла.md) - Краткое описание
   ```

3. Пишем документацию. (Если необходимо добавить изображения создаем папку одноименную файлу)

## 3. Запуск

1. Убедитесь что у вас установлен `node` и `docker`
2. Выполните команду `yarn bootstrap` - это обязательный шаг, без него ничего работать не будет :)
3. Выполните команду `yarn dev`
4. Выполните команду `yarn dev --scope=client` чтобы запустить только клиент
5. Выполните команду `yarn dev --scope=server` чтобы запустить только server

## 4. Зависимости

В этом проекте используется `monorepo` на основе [`lerna`](https://github.com/lerna/lerna)

Чтобы добавить зависимость для клиента
`yarn lerna add {your_dep} --scope client`

Для сервера
`yarn lerna add {your_dep} --scope server`

И для клиента и для сервера
`yarn lerna add {your_dep}`

Если вы хотите добавить dev зависимость, проделайте то же самое, но с флагом `dev`
`yarn lerna add {your_dep} --dev --scope server`

## 5. Линтинг

`yarn lint`

## 6. Форматирование prettier

`yarn format`
